import{d as B,u as N,a as I,a4 as T,r as g,z as V,O as U,a5 as j,s as F,o as c,c as _,l as m,v as z,e as a,t as i,f as t,k as L,b as k,F as x,i as w,j as y,x as E,a6 as C,K,y as O}from"./app-DtxLX7Lp.js";import{_ as P,b as R}from"./Blog.vue_vue_type_style_index_0_lang-B7YX7WV_.js";import{blog as $}from"./blog-Bcj5WjiD.js";const q=a("div",{class:"act_oval"},null,-1),A={class:"page-wrap"},G={class:"act_center act_w1170 act_pb-4"},H={class:"playfair act_txt60 act_no-marg act_pb-1"},J={class:"act_txt24 act_blue balance"},M={key:0,class:"act_w1170"},Q=["src","alt"],W={class:"white-box"},X={class:"act_txt14 act_pb-1"},Y={class:"act_txt24 ellipsis"},Z=a("div",{class:"blog-line"},null,-1),tt={class:"act_pt-1 ellipsis-3"},et={class:"act_pt-4 act_flex categories-list act_gap-1 act_pb-1"},at=["src"],st={class:"act_w1170 blogs-list grid-wrap act_gap-2 act_pt-2"},it=B({__name:"BlogIndex",setup(lt){const{$tdb:r}=N(I()),{locale:p}=T();let d=g([]),s=g();function D(o){const n=new Date(o._createdDate).toLocaleDateString(),l=R.find(u=>{var v,b;return u._id===((b=(v=o.category)==null?void 0:v[0])==null?void 0:b.itemRefID)}),e=l?r(l,"name"):"";return[n,e].filter(u=>!!u).join("|")}let f=g([]);async function h(){d.value=$.filter(n=>n.language.value===p.value),s.value=d.value[0];const o=R.filter(n=>r(n,"name")&&$.find(l=>{var e;return l.language.value===p.value&&((e=l.category[0])==null?void 0:e.itemRefID)===n._id}));f.value=o}const S=V();return U(S,h,{immediate:!0}),j(h),(o,n)=>{const l=F("LocalLink");return c(),_("div",null,[q,m(z),a("div",A,[a("div",G,[a("h1",H,i(o.$t("general.blog")),1),a("p",J,i(o.$t("general.getTheLatest")),1)]),t(s)?(c(),_("div",M,[m(l,{title:t(s).title,to:t(s).url,class:"main-blog flex-desktop align-center"},{default:L(()=>[a("img",{class:"main-blog-thumbnail",src:t(s).image.imageURL,alt:t(s).title},null,8,Q),a("div",W,[a("p",X,i(D(t(s))),1),a("p",Y,i(t(s).title),1),Z,a("p",tt,i(t(s).description),1)])]),_:1},8,["title","to"])])):k("",!0),a("div",et,[(c(!0),_(x,null,w(t(f),e=>(c(),y(l,{key:e._id,title:t(C)(t(r)(e,"name")),class:"light-btn hover decoration-none",to:`/blog/${t(K)(t(r)(e,"name"))}`},{default:L(()=>[e.icon.imageURL?(c(),_("img",{key:0,src:e.icon.imageURL,alt:"News"},null,8,at)):k("",!0),E(" "+i(t(C)(t(r)(e,"name"))),1)]),_:2},1032,["title","to"]))),128))]),a("div",st,[(c(!0),_(x,null,w(t(d).slice(1,t(d).length),e=>(c(),y(P,{key:e._id,blog:e},null,8,["blog"]))),128))])]),m(O)])}}});export{it as default};
