import{d as T,z,g as f,ad as D,J as w,D as y,K as $,O as G,r as N,p as H,s as O,o as l,c as n,l as p,v as E,e as s,t as x,f as B,k as R,F as d,i as m,B as I,n as S,x as J,ac as K,y as q,b as A}from"./app-DtxLX7Lp.js";const V="/assets/play.png",Q={key:0},W={class:"page-wrap"},X={class:"sold-wrap act_w1170 flex-desktop act_frame relative flex-start justify-content-space-between act_mt-4 act_mb-4 act_pb-0"},Y={class:"sold-txt-wrap"},Z={class:"act_txt40 playfair balance act_no-marg act_pb-2"},ee={class:"sold-for m_mb-1"},te={class:"playfair act_flex act_gap-025 act_blue act_no-marg align-items-flex-end act_pb-2"},se=s("p",{class:"txt20 currency"}," â‚¬ ",-1),ae={class:"act_txt30 act_no-marg"},le=s("div",{class:"blog-line act_mb-2 desktop"},null,-1),ne={class:"sold-item-images act_pb-4 mobile act_mt-1"},oe={width:"100%",height:"100%",autoplay:"",playsinline:"",loop:"",muted:""},ie=["src"],ce=["src"],re={class:"sold-item-gallery"},ue=s("img",{class:"play-btn",src:V,alt:"play"},null,-1),de=["src","onClick"],me=["src","onClick"],_e=["innerHTML"],ge={class:"sold-item-images act_pb-4 desktop"},ve={width:"100%",height:"100%",autoplay:"",playsinline:"",loop:"",muted:""},pe=["src"],he=["src"],fe={class:"sold-item-gallery"},be=s("img",{class:"play-btn",src:V,alt:"play"},null,-1),ye=["src","onClick"],xe=["src","onClick"],ke=s("div",{class:"act_pb-4"},null,-1),we=T({__name:"SoldItem",setup(Le){const k=z(),L=f(()=>D(k.path)),c=f(()=>w.find(a=>{const t=y(a,"name",L.value);return $(t)===k.params.product_slug}));function j(){const a=["en","es","fr","it"];if(!c.value)for(const t of a){const h=w.find(v=>{const b=y(v,"name",t);return $(b)===k.params.slug});console.log(h)}}G(()=>c.value,a=>{a||j(),C()});const F=f(()=>w.findIndex(a=>{var t;return a._id===((t=c.value)==null?void 0:t._id)})),g=f(()=>{var a;return(a=c.value)==null?void 0:a.imageGallery.filter(t=>[".jpeg",".png",".jpg",".webp"].includes(t.extension))}),u=f(()=>{var a;return(a=c.value)==null?void 0:a.imageGallery.filter(t=>[".mp4",".webm"].includes(t.extension))}),U=N([]),i=N(0);async function M(a){const t=await fetch(a).then(v=>v.blob());return URL.createObjectURL(t)}const C=async()=>{var a;if((a=u.value)!=null&&a.length)for(let t=0;t<u.value.length;t++)U.value[t]={...u.value[t],imageURL:await M(u.value[t].imageURL)}};return H(C),(a,t)=>{var v,b;const h=O("LocalLink");return c.value?(l(),n("div",Q,[p(E),s("div",W,[s("div",X,[s("div",Y,[s("h1",Z,x(B(y)(c.value,"name",L.value)),1),s("p",ee,x(a.$t("Sold for:")),1),s("div",te,[se,s("p",ae,x((b=(v=c.value)==null?void 0:v.salePrice)==null?void 0:b.toLocaleString("en-US")),1)]),le,s("div",ne,[p(I,{index:i.value,"onUpdate:index":t[0]||(t[0]=e=>i.value=e),items:1,class:"sold-item-main-img white-box"},{default:R(()=>[(l(!0),n(d,null,m(U.value,e=>(l(),n("div",{key:e.imageURL},[s("video",oe,[s("source",{src:e.imageURL,type:"video/mp4"},null,8,ie)])]))),128)),(l(!0),n(d,null,m(g.value,e=>(l(),n("img",{key:e.imageName,src:e.imageURL,alt:""},null,8,ce))),128))]),_:1},8,["index"]),s("div",re,[(l(!0),n(d,null,m(u.value,(e,r)=>{var _,o;return l(),n("div",{key:e.imageURL,class:"vid"},[ue,s("img",{class:S([{activeImg:r===i.value},"sold-small-item-img hover white-box"]),src:(o=(_=g.value)==null?void 0:_[0])==null?void 0:o.imageURL,alt:"",onClick:P=>i.value=r},null,10,de)])}),128)),(l(!0),n(d,null,m(g.value,(e,r)=>(l(),n("img",{key:e.imageName,class:"sold-small-item-img hover white-box",src:e.imageURL,alt:"",onClick:_=>{var o;return i.value=r+(((o=u.value)==null?void 0:o.length)||0)}},null,8,me))),128))])]),s("div",{class:"act_pb-2 article",innerHTML:B(y)(c.value,"description",L.value)},null,8,_e),p(h,{class:"act_btn relative sold-btn",to:"/get-the-best-offer"},{default:R(()=>[J(x(a.$t("home.getStarted")),1)]),_:1})]),s("div",ge,[p(I,{index:i.value,"onUpdate:index":t[1]||(t[1]=e=>i.value=e),items:1,class:"sold-item-main-img white-box"},{default:R(()=>[(l(!0),n(d,null,m(U.value,e=>(l(),n("div",{key:e.imageURL},[s("video",ve,[s("source",{src:e.imageURL,type:"video/mp4"},null,8,pe)])]))),128)),(l(!0),n(d,null,m(g.value,e=>(l(),n("img",{key:e.imageName,src:e.imageURL,alt:""},null,8,he))),128))]),_:1},8,["index"]),s("div",fe,[(l(!0),n(d,null,m(u.value,(e,r)=>{var _,o;return l(),n("div",{key:e.imageURL,class:"vid"},[be,s("img",{class:S([{activeImg:r===i.value},"sold-small-item-img hover white-box"]),src:(o=(_=g.value)==null?void 0:_[0])==null?void 0:o.imageURL,alt:"",onClick:P=>i.value=r},null,10,ye)])}),128)),(l(!0),n(d,null,m(g.value,(e,r)=>(l(),n("img",{key:e.imageName,class:"sold-small-item-img hover white-box",src:e.imageURL,alt:"",onClick:_=>{var o;return i.value=r+(((o=u.value)==null?void 0:o.length)||0)}},null,8,xe))),128))])])]),ke,p(K,{index:F.value},null,8,["index"])]),p(q)])):A("",!0)}}});export{we as default};
