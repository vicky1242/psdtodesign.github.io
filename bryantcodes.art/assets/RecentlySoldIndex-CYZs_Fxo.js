import{d as $,r as f,u as x,a as T,g as u,J as l,s as w,o as r,c as _,l as h,v as L,e as t,t as c,F as m,i as g,n as B,x as S,j as C,k as E,f as d,K as N,y as R}from"./app-DtxLX7Lp.js";const I=t("div",{class:"act_oval"},null,-1),V={class:"page-wrap"},j={class:"act_center act_w1170"},A={class:"act_txt60 playfair balance act_no-marg act_pb-1"},D={class:"act_blue act_pb-2"},P={class:"act_flex act_gap-1 typeTabs-wrap act_pb-1 act_mb-1"},F=["onClick"],U=t("div",{class:"tab-line"},null,-1),W={class:"recent-grid act_w1030"},z={class:"sold"},G=["src"],J={class:"home-carousel-item-txt"},K={class:"act_flex act_gap-05 playfair align-items-flex-end"},q=t("p",{class:"currency"}," â‚¬ ",-1),H={class:"act_txt30"},M={class:"home-carosel-small-txt ellipsis"},X=$({__name:"RecentlySoldIndex",setup(O){const o=f({from:0,to:0,brand:"",shape:""}),{$tdb:p}=x(T()),i=f("All"),b=u(()=>{let e=l;if(i.value==="All")return e;if(i.value==="Earrings")return e=l.filter(a=>a.tape.value==="Earrings"),e;if(i.value==="Watches")return e=l.filter(a=>a.tape.value==="Watches"),o.value.brand&&(e=l.filter(a=>{var n;return((n=a.brand)==null?void 0:n.value)===o.value.brand})),e;if(i.value==="Diamonds")return e=l.filter(a=>a.tape.value==="Diamonds"),o.value.shape&&(e=l.filter(a=>{var n;return((n=a.shape)==null?void 0:n._id)===o.value.shape})),o.value.from&&(e=l.filter(a=>+(a.carat||0)>=o.value.from&&+(a.carat||0)<=o.value.to)),e;if(i.value==="Rings")return e=l.filter(a=>a.tape.value==="Rings"),e;if(i.value==="Bracelets")return e=l.filter(a=>a.tape.value==="Bracelets"),e;if(i.value==="Necklaces")return e=l.filter(a=>a.tape.value==="Necklaces"),e});function y(e){return e.filter(n=>[".jpeg",".png",".jpg",".webp"].includes(n.extension))[0].imageURL}const k=u(()=>{const e=new Set().add("All");return l.forEach(a=>a.tape.value?e.add(a.tape.value):null),e});return u(()=>l.map(e=>e.brand).filter(Boolean).map(e=>({label:e.value,value:e._id}))),u(()=>{const e=[];return l.forEach(a=>{var n;(n=a.shape)!=null&&n.value&&!e.find(s=>s.value===a.shape._id)&&e.push({label:a.shape.value,value:a.shape._id})}),e}),(e,a)=>{const n=w("LocalLink");return r(),_("div",null,[I,h(L),t("div",V,[t("div",j,[t("h1",A,c(e.$t("recentlySold.title")),1),t("p",D,c(e.$t("recentlySold.subtitle")),1)]),t("div",P,[(r(!0),_(m,null,g(k.value,s=>(r(),_("div",{key:s,class:B([{activeTypeTab:i.value===s},"typeTabs hover"]),onClick:v=>i.value=s},[S(c(e.$t(`productTypes.${s}`))+" ",1),U],10,F))),128))]),t("div",W,[(r(!0),_(m,null,g(b.value,s=>(r(),C(n,{key:s._id,class:"hover decoration-none home-carousel-item",title:`View ${d(p)(s,"name")}`,to:`/recently-sold/${d(N)(d(p)(s,"name"))}`},{default:E(()=>{var v;return[t("p",z,c(e.$t("home.sold")),1),t("img",{height:"350",src:y(s.imageGallery),alt:"placeholder"},null,8,G),t("div",J,[t("div",K,[q,t("p",H,c((v=s.salePrice)==null?void 0:v.toLocaleString("en-US")),1)]),t("p",M,c(d(p)(s,"name")),1)])]}),_:2},1032,["title","to"]))),128))])]),h(R)])}}});export{X as default};
